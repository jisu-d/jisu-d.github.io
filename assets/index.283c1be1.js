import{r as d,j as a,a as e,F as h,c as g,R as N}from"./jsx-runtime.4063c5da.js";import{l}from"./local_data.aadc5391.js";import{p as f}from"./proxy.6e5bd081.js";const y=()=>{l?l.year<=0&&(location.href="/login/"):location.href="/login/"};y();const C=["\uC6D4","\uD654","\uC218","\uBAA9","\uAE08"],w=await(await fetch(`${f}/comciganData?school=${l.schoolname}&Year=${l.year}&class=${l.class}&zeroOne=0`)).json(),$=(i,n)=>a("tr",{children:[e("td",{children:n+1}),i.map((t,c)=>t?a("td",{children:[t[0],e("br",{}),t[1]]},c+1+n*6):e("td",{},c+1+n*6))]},n*6),x=i=>{const n=[];for(let t=0;t<i;t++)n.push($(C.map(c=>w[c][t]),t));return n},k=()=>{const i=[];return C.map((n,t)=>i.push(e("td",{children:n},`first-${t}`))),a("tr",{children:[e("td",{}),i]})};function b(i){let[n,t]=d.exports.useState();const c=()=>{t(a(h,{children:[k(),x(i.size)]}))};return d.exports.useEffect(()=>{t(a("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),c()},[]),a(h,{children:[e("div",{className:"title",children:"\uC2DC\uAC04\uD45C"}),e("table",{children:e("tbody",{children:n})})]})}function B(){return a(h,{children:[a("div",{className:"school-container",children:[e("div",{children:l.schoolname}),e("div",{className:"arrow"})]}),a("div",{children:[e("span",{children:l.year+"\uD559\uB144 "}),e("span",{children:l.class+"\uBC18"})]})]})}function _(){location.href="/login/"}function S(){let[i,n]=d.exports.useState();const t=async()=>{let s=await(await fetch(`${f}/cookInfo?school=${l.schoolname}&getnum=14`)).json();const o=[];if("RESULT"in s){if(s.RESULT.MESSAGE==="\uD574\uB2F9\uD558\uB294 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")return s.RESULT.MESSAGE}else if("mealServiceDietInfo"in s){const r=s.mealServiceDietInfo[1].row;for(let u=0;u<r.length;u++){const m=a("div",{className:"cooktable",children:[e("div",{className:"kcal",children:e("span",{children:r[u].CAL_INFO})}),e("div",{className:"food-list",children:r[u].DDISH_NM.replace(/[\.0-9\(\)]/g,"").split("<br/>").map((p,D)=>e("div",{children:p},`cook-menu-${D}`))}),e("div",{className:"date",children:r[u].MLSV_TO_YMD.slice(4).replace(/(\d{2})(\d{2})/,"$1\uC6D4 $2\uC77C")})]},`cook-${u}`);o.push(m)}}n(e(h,{children:o}))};return d.exports.useEffect(()=>{n(a("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),t()},[]),a(h,{children:[e("div",{className:"title",children:"\uC624\uB298 \uAE09\uC2DD"}),e("div",{className:"cook-List",children:i})]})}function A(){return a("div",{children:[e("span",{children:"\uC624\uB958 \uBC0F \uBB38\uC758\uC0AC\uD56D : weschedulecs@gmail.com"}),e("br",{}),e("span",{children:"version 1.5.0"})]})}function E(){let[i,n]=d.exports.useState();const t=async()=>{const c=await(await fetch("https://api.qwer.pw/request/helpful_text?apikey=guest")).json();n(e(h,{children:c[1].respond}))};return d.exports.useEffect(()=>{n(a("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),t()},[]),a("div",{children:[a("div",{className:"myou-container",children:[e("div",{className:"title d",children:"\uC624\uB298\uC758 \uBA85\uC5B8"}),e("div",{className:"arrow"})]}),e("div",{children:i})]})}function M(){location.href="/myounEon/"}function T(){location.href="/calender/"}function j(){let i=0,n=0,[t,c]=d.exports.useState();const s=async()=>{const r=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${i}&lon=${n}&appid=d931b3df313d8586e334f45873e59273&units=metric&lang=kr`)).json();c(a(h,{children:[a("div",{className:"img_temp_container",children:[e("img",{src:`http://openweathermap.org/img/wn/${r?.weather[0].icon}@2x.png`}),a("div",{children:[Math.floor(r?.main.temp),"\xB0C"]})]}),a("div",{className:"small_info",children:[a("div",{children:[a("div",{children:["\uCCB4\uAC10\uC628\uB3C4 ",Math.floor(r?.main.feels_like),"\xB0"]}),a("div",{children:[Math.floor(r?.main.temp_max),"\xB0/",Math.floor(r?.main.temp_min),"\xB0"]})]}),a("div",{children:[a("div",{children:["\uC2B5\uB3C4 ",r?.main.humidity,"%"]}),e("div",{children:r?.weather[0].description})]})]})]}))};return d.exports.useEffect(()=>{c(a("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),navigator.geolocation.getCurrentPosition(o=>{i=o.coords.latitude,n=o.coords.longitude,s()})},[]),e("div",{className:"container",children:t})}function I(){return e(h,{children:e("ins",{className:"kakao_ad_area",style:{display:"none"},"data-ad-unit":"DAN-vi152nWx4gPzYI1E","data-ad-width":"300","data-ad-height":"250"})})}const v=i=>{const n=new Date;n.setDate(n.getDate()+Number(i));const t=`${n.getFullYear()}`.padStart(2,"0"),c=`${n.getMonth()+1}`.padStart(2,"0"),s=`${n.getDate()}`.padStart(2,"0");return`${t}${c}${s}`};function F(){let[i,n]=d.exports.useState(),t=[];const c=async()=>{const s=await(await fetch(`${f}/schoolSchedule?school=${l.schoolname}&startDay=${v(0)}&lastDay=${v(200)}`)).json();t=[],s.forEach(o=>{const r=new Date,m=new Date(`${o.day.start.slice(0,4)}-${o.day.start.slice(4,6)}-${o.day.start.slice(6,8)}`).getTime()-r.getTime(),p=Math.floor(m/(1e3*60*60*24));t.push(a("div",{children:[a("span",{children:[o.eventName," "]}),a("span",{children:["D-",p+1]}),e("br",{})]}))}),n(e(h,{children:t}))};return d.exports.useEffect(()=>{n(a("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),c()},[]),a("div",{children:[a("div",{className:"D-day-container1",children:[e("div",{className:"title d",children:"\uD559\uC0AC\uC77C\uC815 D-Day"}),e("div",{className:"arrow"})]}),e("div",{className:"D-day-container",children:i})]})}const L=document.getElementById("app");g.createRoot(L).render(e(N.StrictMode,{children:e("main",{children:a("div",{children:[e("div",{children:e("div",{className:"user-info-container",id:"user-info-container",onClick:_,children:e(B,{})})}),e("div",{className:"SkyDiv-container box_shadow",children:e(j,{})}),e("div",{className:"timetable-container box_shadow",id:"timetable-container",children:e(b,{size:7})}),e("div",{className:"cooktable-container box_shadow",id:"cooktable-container",children:e(S,{})}),e("div",{className:"school_schedule box_shadow",onClick:T,children:e(F,{})}),e("div",{className:"myoungEon-container box_shadow",onClick:M,children:e(E,{})}),a("div",{className:"kakaoAdfit-container box_shadow",children:[e(I,{}),e("script",{type:"text/javascript",src:"//t1.daumcdn.net/kas/static/ba.min.js",async:!0})]}),e("div",{className:"side-comment-container box_shadow",children:e(A,{})})]})})}));
