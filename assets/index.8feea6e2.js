import{p as d,l,j as i,F as s,a as e,c as v,R as f}from"./jsx-runtime.8158af12.js";const o=JSON.parse(localStorage.getItem("obj")),C=()=>o?!(o.login>0):!0;C()&&(location.href="/page/");const u=["\uC6D4","\uD654","\uC218","\uBAA9","\uAE08"],p=await(await fetch(`${d}/comciganData?school=${l.schoolname}&Year=${l.year}&class=${l.class}&zeroOne=0`)).json(),D=(t,n)=>i("tr",{children:[e("td",{children:n+1}),t.map((a,c)=>a?i("td",{children:[a[0],e("br",{}),a[1]]},c+1+n*6):e("td",{},c+1+n*6))]},n*6),g=t=>{const n=[];for(let a=0;a<t;a++)n.push(D(u.map(c=>p[c][a]),a));return n},b=()=>{const t=[];return u.map((n,a)=>t.push(e("td",{children:n},`first-${a}`))),i("tr",{children:[e("td",{}),t]})};function N(t){return i(s,{children:[e("div",{className:"title",children:"\uC2DC\uAC04\uD45C"}),e("table",{children:i("tbody",{children:[b(),g(t.size)]})})]})}function w(){return i(s,{children:[i("div",{className:"school-container",children:[e("div",{children:o.schoolname}),e("div",{className:"arrow"})]}),i("div",{children:[e("span",{children:o.year+"\uD559\uB144 "}),e("span",{children:o.class+"\uBC18"})]})]})}function B(){location.href="/page/"}let r=await(await fetch(`${d}/cookInfo?school=${l.schoolname}&getnum=5`)).json();function $(){return i(s,{children:[e("div",{className:"title",children:"\uC624\uB298 \uAE09\uC2DD"}),e("div",{className:"cook-List",children:S()})]})}const S=()=>{const t=[];if("RESULT"in r){if(r.RESULT.MESSAGE==="\uD574\uB2F9\uD558\uB294 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")return r.RESULT.MESSAGE}else if("mealServiceDietInfo"in r){const n=r.mealServiceDietInfo[1].row;for(let a=0;a<n.length;a++){const c=i("div",{className:"cooktable",children:[e("div",{className:"kcal",children:e("span",{children:n[a].CAL_INFO})}),e("div",{className:"food-list",children:n[a].DDISH_NM.replace(/[\.0-9\(\)]/g,"").split("<br/>").map((h,m)=>e("div",{children:h},`cook-menu-${m}`))}),e("div",{className:"date",children:n[a].MLSV_TO_YMD.slice(4).replace(/(\d{2})(\d{2})/,"$1\uC6D4 $2\uC77C")})]},`cook-${a}`);t.push(c)}}return e(s,{children:t})};function k(){return i("div",{children:[e("span",{children:"\uC624\uB958 \uBC0F \uBB38\uC758\uC0AC\uD56D : "}),e("br",{}),e("span",{children:"version 0.5"})]})}const E=await(await fetch("https://api.qwer.pw/request/helpful_text?apikey=guest")).json();function y(){return i("div",{children:[e("div",{className:"title d",children:"\uC624\uB298\uC758 \uBA85\uC5B8"}),e("div",{children:E[1].respond})]})}const A=async()=>{let t;return navigator.geolocation.getCurrentPosition(async n=>{const a=n.coords.latitude,c=n.coords.latitude;console.log(n.coords.latitude,n.coords.latitude,a,c),n.coords.latitude===0&&n.coords.longitude===0&&(t=await(await fetch(`${d}/Skydata?x=${n.coords.latitude}&y=${n.coords.longitude}`)).json())}),t},_=await A();function x(){return e("div",{children:e("div",{children:_.msg})})}const T=document.getElementById("app");v.createRoot(T).render(e(f.StrictMode,{children:e("main",{children:i("div",{children:[e("div",{children:e("div",{className:"user-info-container",id:"user-info-container",onClick:B,children:e(w,{})})}),e("div",{className:"box_shadow",children:e(x,{})}),e("div",{className:"timetable-container box_shadow",id:"timetable-container",children:e(N,{size:7})}),e("div",{className:"cooktable-container box_shadow",id:"cooktable-container",children:e($,{})}),e("div",{className:"myoungEon-container box_shadow",children:e(y,{})}),e("div",{className:"side-comment-container box_shadow",children:e(k,{})})]})})}));
