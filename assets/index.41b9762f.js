import{r as l,j as t,a as e,F as h,c as g,R as y}from"./jsx-runtime.4063c5da.js";import{l as d}from"./local_data.aadc5391.js";import{p as f}from"./proxy.6e5bd081.js";const N=()=>{d?d.year<=0&&(location.href="/login/"):location.href="/login/"};N();const C=["\uC6D4","\uD654","\uC218","\uBAA9","\uAE08"],w=await(await fetch(`${f}/comciganData?school=${d.schoolname}&Year=${d.year}&class=${d.class}&zeroOne=0`)).json(),x=(n,a)=>t("tr",{children:[e("td",{children:a+1}),n.map((i,r)=>i?t("td",{children:[i[0],e("br",{}),i[1]]},r+1+a*6):e("td",{},r+1+a*6))]},a*6),$=n=>{const a=[];for(let i=0;i<n;i++)a.push(x(C.map(r=>w[r][i]),i));return a},b=()=>{const n=[];return C.map((a,i)=>n.push(e("td",{children:a},`first-${i}`))),t("tr",{children:[e("td",{}),n]})};function k(n){let[a,i]=l.exports.useState();const r=()=>{i(t(h,{children:[b(),$(n.size)]}))};return l.exports.useEffect(()=>{i(t("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),r()},[]),t(h,{children:[e("div",{className:"title",children:"\uC2DC\uAC04\uD45C"}),e("table",{children:e("tbody",{children:a})})]})}function S(){return t(h,{children:[t("div",{className:"school-container",children:[e("div",{children:d.schoolname}),e("div",{className:"arrow"})]}),t("div",{children:[e("span",{children:d.year+"\uD559\uB144 "}),e("span",{children:d.class+"\uBC18"})]})]})}function B(){location.href="/login/"}function _(){let[n,a]=l.exports.useState();const i=async()=>{let s=await(await fetch(`${f}/cookInfo?school=${d.schoolname}&getnum=14`)).json();const o=[];if("RESULT"in s){if(s.RESULT.MESSAGE==="\uD574\uB2F9\uD558\uB294 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.")return s.RESULT.MESSAGE}else if("mealServiceDietInfo"in s){const c=s.mealServiceDietInfo[1].row;for(let u=0;u<c.length;u++){const m=t("div",{className:"cooktable",children:[e("div",{className:"kcal",children:e("span",{children:c[u].CAL_INFO})}),e("div",{className:"food-list",children:c[u].DDISH_NM.replace(/[\.0-9\(\)]/g,"").split("<br/>").map((p,D)=>e("div",{children:p},`cook-menu-${D}`))}),e("div",{className:"date",children:c[u].MLSV_TO_YMD.slice(4).replace(/(\d{2})(\d{2})/,"$1\uC6D4 $2\uC77C")})]},`cook-${u}`);o.push(m)}}a(e(h,{children:o}))};return l.exports.useEffect(()=>{a(t("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),i()},[]),t(h,{children:[e("div",{className:"title",children:"\uC624\uB298 \uAE09\uC2DD"}),e("div",{className:"cook-List",children:n})]})}function A(){return t("div",{children:[e("span",{children:"\uC624\uB958 \uBC0F \uBB38\uC758\uC0AC\uD56D : weschedulecs@gmail.com"}),e("br",{}),e("span",{children:"version 1.5.0"})]})}function E(){let[n,a]=l.exports.useState();const i=async()=>{const r=await(await fetch("https://api.qwer.pw/request/helpful_text?apikey=guest")).json();a(e(h,{children:r[1].respond}))};return l.exports.useEffect(()=>{a(t("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),i()},[]),t("div",{children:[t("div",{className:"myou-container",children:[e("div",{className:"title d",children:"\uC624\uB298\uC758 \uBA85\uC5B8"}),e("div",{className:"arrow"})]}),e("div",{children:n})]})}function M(){location.href="/myounEon/"}function T(){location.href="/calender/"}function j(){let n=0,a=0,[i,r]=l.exports.useState();const s=async()=>{const c=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${n}&lon=${a}&appid=d931b3df313d8586e334f45873e59273&units=metric&lang=kr`)).json();r(t(h,{children:[t("div",{className:"img_temp_container",children:[e("img",{src:`http://openweathermap.org/img/wn/${c?.weather[0].icon}@2x.png`}),t("div",{children:[Math.floor(c?.main.temp),"\xB0C"]})]}),t("div",{className:"small_info",children:[t("div",{children:[t("div",{children:["\uCCB4\uAC10\uC628\uB3C4 ",Math.floor(c?.main.feels_like),"\xB0"]}),t("div",{children:[Math.floor(c?.main.temp_max),"\xB0/",Math.floor(c?.main.temp_min),"\xB0"]})]}),t("div",{children:[t("div",{children:["\uC2B5\uB3C4 ",c?.main.humidity,"%"]}),e("div",{children:c?.weather[0].description})]})]})]}))};return l.exports.useEffect(()=>{r(t("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),navigator.geolocation.getCurrentPosition(o=>{n=o.coords.latitude,a=o.coords.longitude,s()})},[]),e("div",{className:"container",children:i})}function I(){return l.exports.useEffect(()=>{let n=document.createElement("ins"),a=document.createElement("script");n.className="kakao_ad_area",n.style.display="none;",n.style.width="100%",a.async=!0,a.type="text/javascript",a.src="//t1.daumcdn.net/kas/static/ba.min.js",n.setAttribute("data-ad-width","320"),n.setAttribute("data-ad-height","100"),n.setAttribute("data-ad-unit","DAN-vi152nWx4gPzYI1E"),document.querySelector(".adfit").appendChild(n),document.querySelector(".adfit").appendChild(a)},[]),e("div",{className:"adfit"})}const v=n=>{const a=new Date;a.setDate(a.getDate()+Number(n));const i=`${a.getFullYear()}`.padStart(2,"0"),r=`${a.getMonth()+1}`.padStart(2,"0"),s=`${a.getDate()}`.padStart(2,"0");return`${i}${r}${s}`};function F(){let[n,a]=l.exports.useState(),i=[];const r=async()=>{const s=await(await fetch(`${f}/schoolSchedule?school=${d.schoolname}&startDay=${v(0)}&lastDay=${v(200)}`)).json();i=[],s.forEach(o=>{const c=new Date,m=new Date(`${o.day.start.slice(0,4)}-${o.day.start.slice(4,6)}-${o.day.start.slice(6,8)}`).getTime()-c.getTime(),p=Math.floor(m/(1e3*60*60*24));i.push(t("div",{children:[t("span",{children:[o.eventName," "]}),t("span",{children:["D-",p+1]}),e("br",{})]}))}),a(e(h,{children:i}))};return l.exports.useEffect(()=>{a(t("div",{className:"loading",children:[e("span",{}),e("span",{}),e("span",{})]})),r()},[]),t("div",{children:[t("div",{className:"D-day-container1",children:[e("div",{className:"title d",children:"\uD559\uC0AC\uC77C\uC815 D-Day"}),e("div",{className:"arrow"})]}),e("div",{className:"D-day-container",children:n})]})}const L=document.getElementById("app");g.createRoot(L).render(e(y.StrictMode,{children:e("main",{children:t("div",{children:[e("div",{children:e("div",{className:"user-info-container",id:"user-info-container",onClick:B,children:e(S,{})})}),e("div",{className:"SkyDiv-container box_shadow",children:e(j,{})}),e("div",{className:"timetable-container box_shadow",id:"timetable-container",children:e(k,{size:7})}),e("div",{className:"cooktable-container box_shadow",id:"cooktable-container",children:e(_,{})}),e("div",{className:"school_schedule box_shadow",onClick:T,children:e(F,{})}),e("div",{className:"myoungEon-container box_shadow",onClick:M,children:e(E,{})}),e("div",{className:"kakaoAdfit-container box_shadow",children:e(I,{})}),e("div",{className:"side-comment-container box_shadow",children:e(A,{})})]})})}));
